<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>lodge.js</title>
  <meta name="description" content="A demo embed.">
  <meta name="author" content="@jessevondoom">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/embed.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="https://cdn.glitch.com/ae8fe322-3d99-45d4-b293-37c0791f3234%2Flodge.png">
  <script type="text/javascript" src="source/lodge.js" data-options="lightboxvideo"></script>
  
</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <div class="section">
    <div class="container">
      <div class="row">
        <div class="column">
          <div class="logo"></div>
          <div id="contentspc">Be kind.</div>
          <div class="hidden">
            <a href="#" id="changebutton">Change things up</a>
            <a href="#" id="hellobutton">Say hello</a>
            <a href="#" id="hidebutton">Hide the buttons</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  
<!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  
  <script type="text/javascript">
    var vv = window.lodge;
    var messages = [
      'Be nice.',
      'Try to help.',
      'Drink water.',
      'Do good.',
      'Stretch.',
      'Get curious.',
      'Read books.',
      'Get up.',
      'Grow.',
      'Work hard.',
      'Be a friend.',
      'Dream big.',
      'Dance.'
    ];
    
    var colors = [
      '#000',
      '#900',
      '#600',
      '#300',
      '#660',
      '#666',
      '#c00',
      '#066',
      '#000',
      '#006',
      '#00c',
      '#009',
      '#090',
      '#060',
      '#0c0',
      '#303',
      '#606',
      '#909',
      '#f00',
      '#0f0',
      '#00f',
      '#ff0',
      '#030',
      '#000'
    ]
    
    function shuffleMessage() {
      var message = messages[Math.floor(Math.random() * messages.length)];
      var contentspc = document.getElementById('contentspc');
      contentspc.innerHTML = message;
    }
    
    function shuffleColor() {
      var color = colors[Math.floor(Math.random() * colors.length)];
      var bg = document.getElementsByClassName('section')[0];
      bg.style.backgroundColor = color;
    }
    
    function shuffle(which) {
      var timeout = Math.random() * (600 - 50) + 50;
      if (which == 'c') {
        shuffleColor();
      } else {
        shuffleMessage();
      }
      if (timeout < 550) {
        setTimeout(function() {
          shuffle(which);
        }, timeout);
      }
    }
    
    function bigShuffle() {
      var logo = document.getElementsByClassName('logo')[0];
      logo.style.color = '#fff';
      shuffle('c');
      shuffle('m');
    }
    
    vv.events.add(vv,'ready', function(e) {
      // first we shuffle the little slogans and show them when they're ready
      var contentspc = document.getElementById('contentspc');
      shuffleMessage();
      contentspc.style.visibility = 'visible';
      
      // show the buttons on click, anywhere in the main area
      var section = document.getElementsByClassName('section')[0];
      section.addEventListener("click", function(){
        vv.styles.addClass(document.documentElement,'tall');
      }, false);
      
      // changebutton does the color+slogan shuffle. randomish!
      // this pushes an event UP to the main page then three 
      // more are pushed back down to each embed to start the shuffle
      var changebutton = document.getElementById('changebutton');
      changebutton.addEventListener("click", function(e){
        e.stopPropagation();
        e.preventDefault();
        vv.events.fire(vv,'startshuffle','');
      }, false);
      
      // opens an overlay in the main window based on a click in an embed
      var hellobutton = document.getElementById('hellobutton');
      hellobutton.addEventListener("click", function(e){
        e.stopPropagation();
        e.preventDefault();
        vv.overlay.reveal('<h1>Hello.</h1>');
      }, false);
      
      // hidebutton hides the buttons and puts the boxes back to default
      var hidebutton = document.getElementById('hidebutton');
      hidebutton.addEventListener("click", function(e){
        e.stopPropagation();
        e.preventDefault();
        vv.styles.removeClass(document.documentElement,'tall');
      }, false);
    });
    
    vv.events.add(vv,'doshuffle', function(e) {
      bigShuffle();
    });
  </script>
  
  <!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  
</body>
</html>